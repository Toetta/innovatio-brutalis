:root{
  /* FU-Bookkeeping theme (background + surfaces sampled from logo background) */
  --bg:#191717;
  --bg2:#141212;
  --bg-rgb:25,23,23;

  --card:#211F1F;
  --card-rgb:33,31,31;
  --card2:#282626;
  --card2-rgb:40,38,38;

  /* Existing tokens (keep names used across site) */
  --muted:#94a3b8;
  --text:#e5e7eb;
  --line:#223044;
  --ok:#22c55e;
  --bad:#ef4444;
  --accent:#60a5fa;

  /* Compatibility aliases for older site styles */
  --bg-main: var(--bg);
  --bg-surface: var(--card);
  --text-main: var(--text);
  --text-muted: var(--muted);

  /* Brand accents (kept for now; affects links/borders, not surfaces) */
  --brass-main:#B87333;
  --brass-dark:#8F5A2A;
  --brass-light:#D6A46A;

  --maxw: 1080px;
  --radius: 18px;
  --shadow: 0 8px 30px rgba(0,0,0,.45);
  color-scheme: dark;
}

select{
  background: rgba(var(--card-rgb), .85);
  color: var(--text);
  border: 1px solid rgba(184,115,51,.28);
  border-radius: 12px;
  padding: 10px 12px;
  font: inherit;
  color-scheme: dark;
}

select option{
  background: rgba(var(--card2-rgb), .98);
  color: var(--text);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  background: linear-gradient(180deg, var(--bg), var(--bg2));
  color:var(--text-main);
  line-height:1.55;
}

a{color:var(--brass-light); text-decoration:none}
a:hover{color:var(--brass-main); text-decoration:underline}
small{color:var(--text-muted)}

.container{max-width:var(--maxw); margin:0 auto; padding:0 20px 28px}

/* Global header: in normal flow (no overlay). Sticky is allowed and still reserves space. */
.site-header{
  position: sticky;
  top: 0;
  z-index: 60;
  background: rgba(var(--bg-rgb), .98);
  padding: 16px 0;
  border-bottom: 1px solid rgba(184,115,51,.18);
}

/* Main content gets its own spacing below the header */
#ib-main{
  padding-top: 28px;
}

/* Anchor jumps: keep a small margin without relying on header height math */
*[id]{
  scroll-margin-top: 16px;
}

/* Topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  flex-wrap:wrap;
}

/* Site nav */
.site-nav{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  justify-content:flex-start;
  font-weight:700;
  letter-spacing:.04em;
  text-transform:uppercase;
  font-size:12px;
}
.site-nav a{
  padding:8px 10px;
  border:1px solid rgba(184,115,51,.28);
  border-radius:999px;
  color:var(--text-main);
  background: rgba(var(--card-rgb), .85);
}
.site-nav a:hover{background: rgba(184,115,51,.18); text-decoration:none}
.site-nav a.active{
  background: rgba(184,115,51,.14);
  border-color: rgba(214,164,106,.6);
}

/* Language pills */
.lang{
  display:flex; gap:10px; align-items:center;
  font-weight:600;
  letter-spacing:.06em;
  text-transform:uppercase;
  font-size:12px;
}
.lang a{
  padding:8px 10px;
  border:1px solid rgba(184,115,51,.35);
  border-radius:999px;
  color:var(--text-main);
}
.lang a.active{
  background: rgba(184,115,51,.14);
  border-color: rgba(214,164,106,.6);
}
.lang a:hover{background: rgba(184,115,51,.18); text-decoration:none}

/* Hero */
.hero{
  margin-top:18px;
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
  align-items:center;
  background: rgba(var(--card-rgb), .94);
  border: 1px solid rgba(184,115,51,.22);
  border-radius: var(--radius);
  padding: 28px;
  box-shadow: var(--shadow);
  text-align:center;
  overflow:hidden;
}

.brand-hero{
  display:flex;
  justify-content:center;
  align-items:center;
  padding: 6px 0 0 0;
  line-height:0;
}

.brand-hero picture{display:block}

.brand-hero img{
  height: clamp(180px, 34vw, 300px);
  width: auto;
  max-width: min(560px, 92%);
  display:block;
  margin: 0 auto;
  object-fit: contain;
}

/* Hero: logo to the side on larger screens */
@media (min-width: 900px){
  .hero{
    grid-template-columns: minmax(0, 520px) minmax(0, 1fr);
    column-gap: 34px;
    row-gap: 12px;
    text-align:left;
  }
  .brand-hero{
    justify-content:flex-start;
    padding:0;
    grid-row: 1 / span 4;
  }
  .brand-hero img{
    height: clamp(260px, 22vw, 380px);
    width: auto;
    max-width: 520px;
    margin: 0;
  }
  .hero h1,
  .hero .tagline,
  .hero .cta-row{
    grid-column: 2;
  }
}

/* FU-Bookkeeping landing: keep hero centered (no side-by-side drift on desktop) */
@media (min-width: 900px){
  .hero.hero-fu-bookkeeping{
    grid-template-columns: 1fr;
    text-align:center;
  }
  .hero.hero-fu-bookkeeping .brand-hero{
    justify-content:center;
    grid-row:auto;
  }
  .hero.hero-fu-bookkeeping .brand-hero img{
    margin: 0 auto;
  }
  .hero.hero-fu-bookkeeping h1,
  .hero.hero-fu-bookkeeping .tagline,
  .hero.hero-fu-bookkeeping .cta-row{
    grid-column:auto;
  }
}

.spotify-hero{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}

@media (min-width: 900px){
  .spotify-hero{ align-items:flex-end; }
}

.spotify-status{
  color: var(--text-muted);
  font-size: 12px;
}

.spotify-embed{
  width: 100%;
  max-width: 360px;
  background: rgba(var(--card2-rgb), .98);
  border-radius: var(--radius);
  overflow: hidden;
}
.spotify-embed iframe{
  width: 100%;
  height: 152px;
  border: 0;
  border-radius: 0;
  background: transparent;
}

/* Persistent Spotify player (stays across internal navigation) */
.ib-spotify-player{
  position: static;
  top: auto;
  left: auto;
  right: auto;
  transform: none;
  z-index: auto;
  width: 100%;
  margin: 0;
}

.ib-spotify-player__inner{
  border: 1px solid rgba(184,115,51,.22);
  border-radius: var(--radius);
  overflow: hidden;
  background: var(--card2);
  box-shadow: var(--shadow);
  clip-path: inset(0 round var(--radius));
  position: relative;
}

.ib-spotify-player__row{
  display:flex;
  align-items:center;
  gap:10px;
}

#ib-spotify-embed{
  background: var(--card2);
  overflow:hidden;
  border-radius: calc(var(--radius) - 6px);
  clip-path: inset(0 round calc(var(--radius) - 6px));
}

#ib-spotify-embed iframe{
  background: transparent;
  border-radius: 0;
}

.ib-spotify-player__row > #ib-spotify-embed{
  flex: 1 1 auto;
  min-width: 0;
}

.ib-spotify-next{
  width: 42px;
  height: 42px;
  padding: 0;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  background: transparent;
  border: 1px solid rgba(184,115,51,.35);
  color: var(--text-main);
  box-shadow: none;
}

.ib-spotify-next:hover{
  background: rgba(184,115,51,.12);
}

.ib-spotify-next__icon{
  display:block;
  width: 18px;
  height: 18px;
  fill: currentColor;
}

.ib-spotify-next--floating{
  position: static;
  top: auto;
  right: auto;
  transform: none;
  z-index: auto;
}

/* Header-integrated Spotify bar */
.spotify-bar{
  margin-top: 12px;
}

.spotify-toggle{
  display: none;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid rgba(184,115,51,.35);
  border-radius: 999px;
  background: rgba(var(--card-rgb), .85);
  color: var(--text-main);
  font: inherit;
  font-weight: 700;
  letter-spacing: .04em;
  text-transform: uppercase;
  font-size: 12px;
}

.spotify-toggle:hover{
  background: rgba(184,115,51,.18);
}

.spotify-panel{
  margin-top: 10px;
}

@media (max-width: 768px){
  .spotify-toggle{ display: inline-flex; }
  .spotify-panel.is-collapsed{ display:none; }
}

@media (min-width: 769px){
  .spotify-panel{ display:block !important; }
}

.ib-spotify-player iframe{
  display: block;
  width: 100%;
  height: var(--ib-spotify-iframe-h, 80px);
  border: 0;
}

button.btn:disabled{
  opacity: .55;
  cursor: not-allowed;
}

/* Typography */
h1{
  margin: 6px 0 10px 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans";
  text-transform:none;
  letter-spacing:0.01em;
  font-size: clamp(18px, 2.0vw, 28px);
  line-height:1.25;
  font-weight:800;
  color: var(--text-main);
}

.tagline{
  margin: 0 auto;
  color: var(--text-muted);
  font-size: 16px;
  max-width: 70ch;
}

.cta-row{margin-top:14px; display:flex; justify-content:center; flex-wrap:wrap; gap:12px}

.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:12px 18px;
  border-radius: 999px;
  border:1px solid rgba(214,164,106,.45);
  background: rgba(184,115,51,.12);
  color: var(--text-main);
  font-weight:800;
  letter-spacing:.04em;
  text-transform:uppercase;
  font-size:12px;
  transition: all .2s ease;
}
.btn:hover{background: rgba(184,115,51,.20); text-decoration:none}
.btn.secondary{background: transparent; border-color: rgba(184,115,51,.35); color: var(--text-main)}

/* Persistent Spotify player: next button lives outside the iframe so it doesn't affect layout */

/* Content */
.grid{
  margin-top:28px;
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:20px;
}

.card{
  background: rgba(var(--card-rgb), .94);
  border:1px solid rgba(184,115,51,.18);
  border-radius: var(--radius);
  padding: 22px;
  text-align:left;
}

/* Account: address preview next to inputs */
.addr-grid{
  display:grid;
  grid-template-columns: 1fr;
  gap: 14px;
}

@media (min-width: 900px){
  .addr-grid{ grid-template-columns: minmax(0, 1fr) minmax(0, 340px); align-items:start; }
}

.addr-fields{display:grid; gap:12px}

.addr-preview{
  border:1px solid rgba(184,115,51,.18);
  border-radius: calc(var(--radius) - 6px);
  background: rgba(var(--card2-rgb), .98);
  padding: 14px;
}

.addr-preview-title{
  font-weight: 800;
  letter-spacing: .04em;
  text-transform: uppercase;
  font-size: 12px;
  margin-bottom: 10px;
}

.addr-preview-box{
  white-space: pre-line;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  line-height: 1.55;
  margin-bottom: 10px;
  color: var(--text-main);
}

/* Deep links: temporary highlight (added/removed by assets/site-deeplinks.js) */
.deep-link-highlight{
  outline: 2px solid rgba(214,164,106,.85);
  outline-offset: 3px;
  box-shadow: 0 0 0 6px rgba(184,115,51,.18), var(--shadow);
}

/* Deep links: discreet permalink (injected by assets/site-deeplinks.js) */
[data-card-id]{
  position: relative;
}

.deep-link-anchor{
  position:absolute;
  top: 12px;
  right: 12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(184,115,51,.28);
  background: rgba(var(--card-rgb), .85);
  color: var(--text-main);
  font-weight:800;
  letter-spacing:.04em;
  text-transform:uppercase;
  font-size:11px;
  opacity: 0;
  pointer-events:none;
  transition: opacity .15s ease, background .15s ease, border-color .15s ease;
}

[data-card-id]:hover > .deep-link-anchor,
[data-card-id]:focus-within > .deep-link-anchor{
  opacity: 1;
  pointer-events:auto;
}

.deep-link-anchor:hover{
  background: rgba(184,115,51,.18);
  text-decoration:none;
}

.card h2{
  margin:0 0 8px 0;
  font-family: "DejaVu Serif", Georgia, "Times New Roman", serif;
  text-transform:uppercase;
  letter-spacing:.08em;
  font-size: 16px;
  color: var(--text-main);
}

hr.sep{
  border:0;
  height:1px;
  background: rgba(184,115,51,.60);
  margin: 16px 0;
}

ul{margin:10px 0 0 18px; padding:0}
li{margin:6px 0}

.kv{
  display:grid;
  grid-template-columns: 180px 1fr;
  gap:10px 12px;
  margin-top:10px;
}
.kv div{padding:6px 0; border-bottom:1px solid rgba(184,115,51,.12)}
.kv div:nth-child(odd){color:var(--text-muted)}

.video-grid{
  margin-top:14px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
}
.video-grid iframe{
  width:100%;
  height:315px;
  border:0;
  border-radius: 14px;
}

.video-feature{
  margin-top:14px;
  display:flex;
  justify-content:center;
}
.video-feature .video-frame{
  width: min(980px, 100%);
  aspect-ratio: 16 / 9;
}
.video-feature iframe{
  width:100%;
  height:100%;
  border:0;
  border-radius: 14px;
}
@media (max-width: 860px){
  .grid{grid-template-columns: 1fr}
  .kv{grid-template-columns: 130px 1fr}
  .video-grid{grid-template-columns: 1fr}
  .video-grid iframe{height:280px;}
}

footer{
  margin-top:40px;
  padding-top:18px;
  border-top:1px solid rgba(184,115,51,.18);
  color: var(--text-muted);
  font-size: 12px;
  text-align:center;
}
.press-thumb{
  display:grid;
  grid-template-columns: 96px 1fr;
  gap:12px;
  align-items:center;
  margin: 12px 0 18px 0;
  padding:12px;
  border:1px solid rgba(184,115,51,.22);
  border-radius: 14px;
  background: rgba(var(--card-rgb), .94);
  text-decoration:none;
}
.press-thumb:hover{background: rgba(var(--card2-rgb), .98); text-decoration:none}
.press-thumb img{
  width:96px;
  height:64px;
  object-fit:cover;
  border-radius:10px;
  border:1px solid rgba(214,164,106,.25);
}
.press-thumb span{
  color: var(--text-main);
  font-weight:700;
  letter-spacing:.02em;
}

.press-copy{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.press-title{
  color: var(--text-main);
  font-weight:700;
  letter-spacing:.02em;
}

.press-desc{
  color: var(--text-muted);
  font-size: 14px;
  line-height: 1.45;
}
/* ===== PROJECT GRID ===== */

.project-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap:24px;
  margin-top:20px;
}

/* ===== PROJECT CARD ===== */

.project-card{
  background: rgba(var(--card-rgb), .94);
  border:1px solid rgba(184,115,51,.18);
  border-radius: 18px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  box-shadow: 0 8px 30px rgba(0,0,0,.35);
  transition: transform .2s ease, box-shadow .2s ease;
}

.project-card:hover{
  transform: translateY(-4px);
  box-shadow: 0 14px 40px rgba(0,0,0,.45);
}

/* ===== THUMBNAIL ===== */

.project-thumb{
  position:relative;
  width:100%;
  aspect-ratio: 4 / 3;        /* konsekvent proportion */
  overflow:hidden;
  background: var(--bg2);
}

.project-thumb img{
  width:100%;
  height:100%;
  object-fit:cover;           /* besk√§r snyggt */
  object-position:center;
  display:block;
}

/* ===== THUMB STRIP (optional) ===== */

.project-thumbs{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  padding:12px 14px 0 14px;
}

.project-thumbs a{
  display:block;
  width:74px;
  height:56px;
  border-radius: 14px;
  overflow:hidden;
  background: var(--bg2);
  border:1px solid rgba(184,115,51,.18);
}

.project-thumbs a:hover{
  border-color: rgba(184,115,51,.35);
}

.project-thumbs img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  display:block;
}

/* Placeholder variant */
.project-thumb.placeholder{
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  letter-spacing:.05em;
  color:rgba(255,255,255,.35);
  background: linear-gradient(135deg, var(--card2), var(--bg2));
}

/* ===== PROJECT CONTENT ===== */

.project-content{
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.project-content h3{
  font-family: "DejaVu Serif", Georgia, serif;
  letter-spacing:.05em;
  text-transform:uppercase;
  font-size:18px;
}

/* ===== META LIST ===== */

.project-meta{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:14px;
  color:#BDBDBD;
}

.project-meta strong{
  color:#E6E6E6;
  font-weight:600;
}

/* ===== TAG (optional) ===== */

.project-tag{
  position:absolute;
  top:12px;
  left:12px;
  background: rgba(184,115,51,.85);
  color:#0e0e0e;
  font-size:11px;
  font-weight:700;
  padding:4px 8px;
  border-radius:999px;
  letter-spacing:.06em;
  text-transform:uppercase;
}

.project-tag.hobby{
  background: rgba(214,164,106,.9);
}

/* ===== SMALL BUTTON ===== */

.btn.small{
  padding:8px 12px;
  font-size:11px;
}

/* ===== FEEDBACK FORM (optional) ===== */

.ib-feedback{
  margin-top:12px;
  padding-top:12px;
  border-top:1px solid rgba(184,115,51,.12);
}

.ib-feedback h4{
  margin:0 0 6px 0;
  font-weight:800;
  letter-spacing:.04em;
  text-transform:uppercase;
  font-size:12px;
  color: var(--text-main);
}

.ib-note{
  margin:0;
  color: var(--text-muted);
  font-size:13px;
  line-height:1.45;
}

.ib-feedback form{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.ib-row{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}

.ib-feedback label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:12px;
  letter-spacing:.02em;
  color: var(--text-muted);
}

.ib-feedback input,
.ib-feedback textarea{
  width:100%;
  padding:10px 12px;
  border-radius: 14px;
  border:1px solid rgba(184,115,51,.28);
  background: rgba(var(--card-rgb), .85);
  color: var(--text-main);
  font: inherit;
}

.ib-feedback textarea{
  min-height:92px;
  resize:vertical;
}

@media (max-width: 560px){
  .ib-row{grid-template-columns: 1fr;}
}
