backend:
  name: github
  repo: Toetta/innovatio-brutalis
  branch: main
  base_url: https://innovatio-decap-oauth.m-arlemark.workers.dev
  auth_endpoint: /auth

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

site_url: "https://www.innovatio-brutalis.se"
display_url: "https://www.innovatio-brutalis.se"

preview_styles:
  - "/admin/preview.css"

collections:
  - name: "categories"
    label: "Categories / Kategorier"
    label_singular: "Category / Kategori"
    folder: "content/categories"
    create: true
    format: "json"
    extension: "json"
    slug: "{{fields.slug}}"
    identifier_field: "slug"
    summary: "{{title_sv}} / {{title_en}} ({{slug}})"
    fields:
      - { label: "Slug", name: "slug", widget: "string" }
      - { label: "Titel (SV)", name: "title_sv", widget: "string" }
      - { label: "Title (EN)", name: "title_en", widget: "string" }
      - label: "Titel (legacy)"
        name: "title"
        widget: "string"
        required: false
      - { label: "Order / Sortering", name: "order", widget: "number", default: 1 }

  - name: "products"
    label: "Products / Produkter"
    folder: "content/products"
    create: true
    format: "json"
    extension: "json"
    slug: "{{fields.slug}}"
    identifier_field: "slug"
    fields:
      - { label: "Slug", name: "slug", widget: "string" }
      - { label: "Titel (SV)", name: "title_sv", widget: "string" }
      - { label: "Title (EN)", name: "title_en", widget: "string" }
      - label: "Titel (legacy)"
        name: "title"
        widget: "string"
        required: false
      - { label: "Pris (SEK)", name: "price_sek", widget: "number" }

      - { label: "Shipping exempt (no physical shipping)", name: "shipping_exempt", widget: "boolean", default: false, required: false }

      - label: "Weight (grams)"
        name: "weight_grams"
        widget: "number"
        required: true
        min: 0

      - label: "Length (mm)"
        name: "length_mm"
        widget: "number"
        required: false
        min: 1
      - label: "Width (mm)"
        name: "width_mm"
        widget: "number"
        required: false
        min: 1
      - label: "Height (mm)"
        name: "height_mm"
        widget: "number"
        required: false
        min: 1

      - label: "Shipping class (future)"
        name: "shipping_class"
        widget: "string"
        required: false

      - label: "HS code (optional)"
        name: "hs_code"
        widget: "string"
        required: false
      - label: "Category / Kategori"
        name: "category"
        widget: "relation"
        collection: "categories"
        search_fields: ["title_sv", "title_en", "slug", "title"]
        value_field: "slug"
        display_fields: ["title_sv", "title_en", "slug"]
      - label: "Tags / Sökord"
        name: "tags"
        widget: "list"
        required: false
        field: { label: "Tag", name: "tag", widget: "string" }
      - { label: "Publicerad", name: "published", widget: "boolean", default: true }
      - { label: "Excerpt (SV)", name: "excerpt_sv", widget: "string", required: false }
      - { label: "Excerpt (EN)", name: "excerpt_en", widget: "string", required: false }
      - { label: "Nyhet", name: "is_news", widget: "boolean", default: false, required: false }
      - { label: "Beskrivning (SV)", name: "description_sv", widget: "text", required: false }
      - { label: "Description (EN)", name: "description_en", widget: "text", required: false }
      - { label: "Bilder", name: "images", widget: "list", required: false, field: { label: "Bild", name: "image", widget: "image" } }
      - { label: "Huvudbild (används i listan)", name: "main_image", widget: "image", required: false }
      - { label: "Bild (legacy)", name: "image", widget: "image", required: false }

  - name: "services"
    label: "Services / Tjänster"
    folder: "content/articles" # legacy folder (keeps existing entries visible)
    create: true
    format: "json"
    extension: "json"
    slug: "{{fields.slug}}"
    preview_path: "services/#/{{slug}}"
    fields:
      - { label: "Slug", name: "slug", widget: "string" }
      - { label: "Titel", name: "title", widget: "string" }
      - { label: "Datum", name: "date", widget: "datetime", format: "YYYY-MM-DDTHH:mm:ssZ" }
      - { label: "Kategori (slug)", name: "category", widget: "string", required: false }
      - { label: "Publicerad", name: "published", widget: "boolean", default: true }
      - { label: "Bild", name: "image", widget: "image", required: false }
      - { label: "Text", name: "body", widget: "markdown", required: false }

  - name: "webshop"
    label: "Webshop"
    files:
      - name: "settings"
        label: "Webshop"
        file: "content/webshop.json"
        format: "json"
        fields:
          - { label: "Titel (SV)", name: "title_sv", widget: "string", required: false }
          - { label: "Title (EN)", name: "title_en", widget: "string", required: false }
          - { label: "Intro (SV)", name: "intro_sv", widget: "text", required: false }
          - { label: "Intro (EN)", name: "intro_en", widget: "text", required: false }
          - label: "Titel (legacy)"
            name: "title"
            widget: "string"
            required: false
          - { label: "Intro (legacy)", name: "intro", widget: "text", required: false }
          - { label: "Aktiverad", name: "enabled", widget: "boolean", default: true }
